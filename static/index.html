<!DOCTYPE html>
<meta charset="utf-8">
<link href="/node_modules/jsoneditor/dist/jsoneditor.css" rel="stylesheet" type="text/css">

<div id="jsoneditor" style="width: 400px; height: 400px;"></div>

<script src="sharedb.js"></script>
<script src="/node_modules/jsoneditor/dist/jsoneditor.js"></script>
<script src="/dist/sharedb-jsoneditor.js"></script>
<script type="text/javascript">
    const container = document.getElementById("jsoneditor")
    const options = {}
    const editor = new JSONEditor(container, options);

    // Open WebSocket connection to ShareDB server
    var socket = new WebSocket('ws://' + window.location.host);
    var connection = new ShareDB.Connection(socket);

    // Create local Doc instance mapped to 'examples' collection document with id 'counter'
    var doc = connection.get('examples', 'counter');

    const binding = new ShareDBJSONEditorBinding({ editor, doc });

    setInterval(() => {
        // doc.submitOp({p: ['numClicks'], na: 1});
    }, 3000);
</script>